# Реализация команд System Information

## Команда stat

Команда **stat** выводит содержимое полей дескриптора файла или статус файловой системы.

| Команда | Ключи | Описание Ключей |
|---|---|---|
| Stat | -с | применяется указанный формат вывода FORMAT (см.далее), вместо используемого по умолчанию |
| Stat | -f | выводит статус файловой системы (на которой расположен FILE) вместо статуса файла |
| Stat | -L | выводит информацию о статусе оригинального файла, с которым связана ссылка FILE |
| Stat | -t | выводит информацию в сокращённой (сжатой) форме |
| Stat | --help | выводит это описание программы и завершает её работу |
| Stat | --version | выводит информацию о версии программы и завершает её работу |

**Узнать статус файловой системы, на которой находится файл.**

```
stat –f
```

![sysinfo](../img/commands/sysinfo/1.png)

**Узнать  информацию о статусе оригинального файла, с которым связана ссылка FILE**

```
stat -L
```

![sysinfo](../img/commands/sysinfo/2.png)

**Узнать информацию в сокращённой (сжатой) форме**

```
stat -t
```

![sysinfo](../img/commands/sysinfo/3.png)

## Команда free

Команда **free** предоставляет информацию об использованной и неиспользованной памяти, а так же о разделе подкачки (**swap**).

| Команда | Ключи | Описание ключей |
|---|---|---|
| free | -b | вывод памяти в байтах |
| free | -m | вывод памяти в мегабайтах |
| free | -g | вывод памяти в гигабайтах |
| free | -s | указание времени обновления информации |
| free | -c | указание количества обновлений , используется совместно с ключем s |

**Узнать информацию об использованной и неиспользованной памяти , и вывести данные в Мб.**

```
Free -m
```

![sysinfo](../img/commands/sysinfo/4.png)

**Узнать информацию об использованной и неиспользованной памяти , и вывести данные в Байтах.**

```
Free -b
```

![sysinfo](../img/commands/sysinfo/5.png)

**Узнать полную информацию об использованной и неиспользованной памяти , и вывести данные.**

```
Free -t
```

![sysinfo](../img/commands/sysinfo/6.png)

**Выводить на экран информацию N раз, затем завершить работу программы.**

**Выводить на экран информацию каждые N секунд.**

```
Free -c
Free -s
```

![sysinfo](../img/commands/sysinfo/7.png)


## Команда uname

Команда **uname** выдает информацию о текущей системе в стандартный выходной поток.

| Команда | Ключи | Описание Ключей |
|---|---|---|
| uname | -a | Выдает основную информацию, доступную в настоящий момент в системе. |
| uname | -i | Выдает имя аппаратной реализации (платформы). |
| uname | -m | Выдает имя (класс) аппаратного обеспечения машины. Эту опцию использовать не рекомендуется; |
| uname | -n | Выдает имя узла (nodename) (имя узла - это имя, под которым система известна в сети). |
| uname | -p | Выдает ISA или тип процессора текущего хоста. |
| uname | -r | Выдает информацию о релизе операционной системы. |
| uname | -s | Выдает имя операционной системы. Эта опция используется по умолчанию |

**Узнать класс аппаратного обеспечения машины.**

```
Uname -m
```

![sysinfo](../img/commands/sysinfo/8.png)

**Узнать основную информацию о системе**

```
Uname -a
```

**Узнать имя аппаратной реализации**

```
Uname –i
```

**Узнать имя узла**

```
Uname -n
```

**Узнать ISA или тип процессора текущего хоста**

```
Uname -p
```

**Узнать информацию о релизе операционной системы.**

```
Uname -r
```

**Узнать информацию о релизе операционной системы.**

```
Uname -s
```

![sysinfo](../img/commands/sysinfo/9.png)

## Команда htop
 
Продвинутый монитор процессов, написанный для Linux. Он был задуман заменить стандартную программу **top**. **Htop** показывает динамический список системных процессов, список обычно выравнивается по использованию **ЦПУ**. В отличие от **top**, **htop** показывает все процессы в системе. Также показывает время непрерывной работы, использование процессоров и памяти.

**Столбцы:**

* **PID** - идентификатор процесса.
* **USER** - владелец процесса.
* **PRI** - текуший приоритет (влияет на процессорное время, отводимое процессу, значение по умолчанию - 20; чем меньше приоритет, тем больше времени отводится процессу, следовательно он выполняется быстрее).
* **NI** - величина изменения приоритета относительно значения PRI (клавиши F7, F8).
* **VIRT** - общий объем виртуальной памяти, используемой процессом. Включает в себя: область кода (CODE), данные (DATA), * разделяемые библиотеки (SHARED) и страницы, перемещенные в swap-область памяти. Если приложение потребовало от ядра * выделить ему 100Мб памяти, а использует всего 5 Мб, данный столбец всё равно будет показывать цифру 100.
* **CODE** - объем памяти, содержащий исполняемый код процесса.
* **DATA** - объем памяти, занятой данными, используемыми процессом в ходе выполнения.
* **SWAP** - объем памяти, используемой процессом, но перемещенной в swap-область.)
* **RES** - количество резидентной (не перемещаемой в swap) памяти в килобайтах. Если приложение потребовало от ядра выделить ему 100Мб памяти, а использует всего 5 Мб, то данный столбец покажет 5. Но здесь есть два ньюанса: 
 * а) RES не показывает сколько данных было перемещено в swap, 
 * б) часть RES-памяти может быть разделяемой.
* **SHR** - количество разделяемой (shared) памяти программы в килобайтах, т.е. памяти, которая может быть использована * другими приложениями.
* **S** - состояние процесса:
* **S** — так называемое состояние сна;
* **R** — состояние выполнения;
* **D** — состояние ожидания.
* **CPU%** - использование процессора в процентном отношении.
* **MEM%*** - использование процессом памяти в процентном отношении.
* **TIME+** - время работы процесса.
* **Command** - указывает на команду, которой был запущен процесс.

**Управление:**

* **F1** - справка;
* **F2** - настройки;
* **F3** - поиск процесса;
* **F4** - сортировка списка процессов (от большего к меньшему или от меньшего к большему);
* **F5** - устанавливает древовидное отображение (корни - родительские процессы, а листья - дочерние) и наоборот;
* **F6** - открывает панель с выбором параметра сортировки процессов;
* **F7** - увеличить приоритет выполнения текущего процесса;
* **F8** - уменьшить приоритет выполнения текущего процесса;
* **F9** - убить процесс;
* **F10** - выйти из программы.

![sysinfo](../img/commands/sysinfo/10.png)

## Команда ps

Команда **ps** выдает информацию о состоянии процесса

| Команда | Ключи | Описание ключей |
|---|---|---|
| ps | -e | Вывести информацию обо всех процессах. |
| ps | -d | Вывести информацию обо всех процессах, кроме лидеров групп. |
| ps | -a | Вывести информацию обо всех наиболее часто запрашиваемых процессах, то есть обо всех процессах, кроме лидеров групп и процессов, не ассоциированных с терминалом. |
| ps | -f | Генерировать полный листинг. |
| ps | -l | Генерировать листинг в длинном формате |
| ps | -n | файл с системой. |

**Вывести информацию обо всех процессах.**

```
Ps –e 
```
![sysinfo](../img/commands/sysinfo/11.png)


**Вывести информацию обо всех наиболее часто запрашиваемых процессах.**

```
Ps -a 
```

![sysinfo](../img/commands/sysinfo/12.png)

**Вывести информацию обо всех процессах, кроме лидеров групп в полном листинге**

```
Ps -df
```

![sysinfo](../img/commands/sysinfo/13.png)

**Вывести информацию обо всех процессах, кроме лидеров групп в длинном формате**

```
Ps -dl
```

![sysinfo](../img/commands/sysinfo/14.png)

**Вывести информацию о файле с системой.**

```
Ps -n
```

![sysinfo](../img/commands/sysinfo/15.png)

**Вывести список процессов**

```
Ps –aux
```  

![sysinfo](../img/commands/sysinfo/16.png)

## Команда pstree

Команда **pstree** показывает дерево процессов

| Команда | Ключи | Описание ключей |
|---|---|---|
| pstree | -a | показыввает команды с аргументами в командной строке |
| pstree | -c | Запрещает компактную форму вывода одинаковых поддеревьев |
| pstree | -G | Использовать для вывода дерева символы соответствующие VT100 |
| pstree | -h | Подсвечивает текущий процесс и его предков |
| pstree | -l | Показывает длинные строки. |
| pstree | -n | Сортирует процессы с одинаковым предком по идентификатору процесса (PID) вместо сортировки
по имени. (Числовая сортировка.) |
| pstree | -p | Показывает идентификаторы процессов PIDs. |


**Вывести дерево идентификаторов процессов PIDs.**

```
Pstree -p 
```

![sysinfo](../img/commands/sysinfo/17.png)


**Вывести команды с аргументами в командной строке, запрещая компактную форму вывода одинаковых поддеревьев, используя для вывода дерева символы соответствующие VT100, при этом подсвечивая текущий процесс и его предков, показывать длинные строки. И отсортировать процессы с одинаковым предком по идентификатору процесса (PID) вместо сортировки по имени**

```
Pstree – acGhln
```

![sysinfo](../img/commands/sysinfo/18.png)

## Команда kill

Команда **kill** завершает процессы или посылает им сигнал.

### Ключи
---

| Ключ | Описание |
|---|---|
| -l | Выдать все значения сигналов, поддерживаемые в данной реализации, если операнды не указаны. Если указан операнд статус_выхода, соответствующий значению специального параметра ? командного интерпретатора и вызову wait для процесса, работа которого прекращена сигналом, выдать имя сигнала, которым была прекращена работа процесса. Если указан операнд статус_выхода, представляющий собой целое число без знака - номер сигнала, - выдать имя соответствующего сигнала. В противном случае, результат не определен. |
| -s | Задает сигнал, который надо послать, используя одно из символьных имен, заданных в заголовочном файле <signal.h>. Значение сигнала распознается независимо от регистра символов. При этом префикс SIG указывать не надо. Кроме того, распознается символьное имя 0, представляющее сигнал со значением ноль. Указанный сигнал будет посылаться вместо стандартного, SIGTERM. |

**Выдать все значения сигналов.**

```
Kill -l
```

![sysinfo](../img/commands/sysinfo/19.png)

**Завершить процессы**

```
killall
```

![sysinfo](../img/commands/sysinfo/20.png)

**Завершить процесс.**

```
nohup ping 8.8.8.8 &
kill -9 $(ps aux | grep ping | awk '{print $2}'
```

![sysinfo](../img/commands/sysinfo/21.png)
