#Работа с пользователями

##Useradd

**Useradd**- Команда useradd используется в дистрибутиве Debian для упрощения создания учетных записей пользователей, а также автоматической проверки их соотвествия политике упомянутого дистрибутива. Она реализована в виде обертки для таких утилит, как useradd, passwd и chfn и использует дополнительный файл конфигурации /etc/adduser.conf для хранения параметров, относящихся к политике дистрибутива Debian.
Команда, введенная без ключей создает нового пользователя без дополнительных действий.

**Ключи:** 

**-b** - Этот ключ необходим для того, чтобы у пользователя был задан базовый каталог для домашнего

**-d** - Создает полный путь к домашнему каталогу

**-e** - Ключ нужен, чтобы установить дату устаревания

**-m/M** - Указатель на то, что нужно(не нужно) создать домашний каталог

**-p** - Создание пользователя с паролем

**-c** - Создание пользователя с комментарием

**-u** - Присвоение пользователю UID

**-h** - Доступные опции

###Примеры:

**Создать пользователя Girls без дополнительных опций**
```
useradd Girls
```

**Создать пользователя boys с заданным базовым каталогом, для домашнего.**
```
useradd boys –b /var/home
```


**Добавить нового пользователя people с созданием полного пути к домашнему каталогу.**
```
useradd people –d /home/kursach
```

**Создать пользователя cars с датой устаревания.**
```
useradd cars –e 2018-08-17
```

**Добавить пользователя dogs и указать, что нужно создать домашний каталог.**
```
useradd dogs -m
```

**Добавить пользователя computer и указать, что не нужно создавать домашний каталог.**
```
useradd comp –M computer
```

**Создать пользователя с паролем.**
```
useradd chicken –p 1234
```

**Создать пользователя Polya с комментарием.**
```
useradd Polya –c “Polina”
```

В Linux каждый пользователь имеет свой собственный **UID** (Unique Identification Number). По умолчанию при создании нового пользователя ему присваивается userid 500, 501, 502 и т.д. Но можно присвоить свой.

**Создать пользователя Yulia с уникальным UID номером.**
```
useradd Yulia –u 8888
```

**Проверить все возможные опции с помощью ключа –h.**
```
useradd -h
```

##Groupadd

**Groupadd** - команда groupadd создает новую учетную запись группы, используя значения, указанные в командной строке, плюс значения по умолчанию из системы. Новая группа будет добавлена в системные файлы. 
Команда, введенная без аргументов, создает новую группу в Linux.

**Ключи:**

**-g** - c помощью ключа можно присвоить группе GID

**-K** - cоздание группы пользователей с идентификатором из диапазона

###Примеры:

**Создать группу students без дополнительных опций.**
```
groupadd students
```

**Создать группу bbso с уникальным GID.**
```
groupadd –g 4444 bbso
```

**Создать группу flowers с идентификатором из заданного диапазона.**
```
groupadd  –K GID_MIN=2031 –K GID_MAX=2052 flowers
```

##Usermod

**Usermod(groupmod)** - для изменения учетной записи пользователя (account) используется команда usermod. Изменять можно любые атрибуты, но имя пользователя и код UID изменять нужно лишь в случае крайней необходимости, поскольку такое изменение может иметь общесистемные последствия.
Команда usermod, введенная без ключей, изменяет учётную запись пользователя. 

**Ключи:**

**-l** - cмена имени пользователя

**-a -G** - добавление пользователя в группу

**-n** - смена названия группы

**-p -l** - смена пароля при каждом входе

###Примеры:

**Сменить имя пользователя girls на sweet.**
```
usermod –l sweet girls
```

**Добавить пользователя Yulia в группу bbso.**
```
usermod –a –G bbso Yulia
```

**Сменить название группы flowers.**
```
groupmod –n roses flowers
```

**Заставить пользователя менять пароль при каждом входе в систему.**
```
usermod Polya –p -l
```

##Sudo (su)

**Sudo(su)** - предположим, что нужно выполнить нестандартную задачу, где графические инструменты нам не помогут. К тому же командная строка является очень гибким инструментом, здесь можно увидеть вывод команд и понять, что происходит не так как нужно. А самое главное, команды в терминале являются стандартными для всех дистрибутивов Linux.
Итак, существует два основных способа получить права суперпользователя (Root) это — sudo или su.
Без дополнительных опций команды sudo и su дают право работать от суперпользователя.

**Ключи**

**-l** - список прав пользователя

**-s** - оболочка SHELL

**-h** - опции

###Примеры:

**Зайти в систему под именем суперпользователя.**
```
sudo
```

**Показать список прав пользователя или проверить заданную команду.**
```
sudo -l
```

**Запустить оболочку,  указанную в переменной окружения SHELL.**
```
sudo -s
```

**Посмотреть опции sudo.**
```
sudo -h
```

**Зайти под другой учетной записью.**
```
su boys
```

**Перейти в домашнюю директорию.**
```
su -l
```

**Посмотреть опции su.**
```
su -h
```