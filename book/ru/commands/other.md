СОЗДАНИЕ ФАЙЛОВ

Для того, чтобы продемонстрировать работу команд, нам понадобится создать несколько вспомогательных файлов. Чтобы справиться с этой задачей, ниже мы представили необходимый пример и пояснения к нему.

Пример:

Пояснение:  
На первой строчке мы переходим в директорию рабочего стола, на второй – создаем папку «smth», далее заходим в нее так же как в самом начале, создаем текстовый файл «myfile.txt» и редактируем его с помощью команды nano.

КОМАНДЫ

1 Команда date
Команда date позволяет оперировать датой и временем. 
Задача: вывести дату и время.

Код: 
~$ date
  
  Пример:



Воспользуемся ключами. 
1.1 Ключ –u 

Задача: вывести всеобщее скоординированное время. 

Код:
~$ date -u

Пример:

1.2 Ключ –d 

Задача: узнать дату указанного дня.

Код:
~$ date –d String 
  Пояснение: вместо String надо указать день в строчном формате.

Пример:


1.3 Ключ –r 

Задача: узнать дату и время последней редакции указанного файла. 

Код:
~$ date –r filename

 Пример:  


1.4 Ключ –iso-8601

Задача: вывести дату и время в формате ISO 8601

Код:
~$ date --iso-8601=seconds

Пример: 

1.5 Ключ –rfc-3339

Задача: вывести дату и время в формате RFC 3339

Код:
~$ date –rfc-3339=seconds

  Пример:


1.6 Форматирование даты

Задача: вывести дату в заданном формате

Код:
~$ date +%Y-%m-%d_%H:%M:%S

Комментарий:
Постоянными в строчке кода остаются «+» в начале, «%» перед первыми буквами слов year (год) , month (месяц), day (день), hours (часы), minutes (минуты) и seconds (секунды) соответственно. Если написать Y – то машина выведет год в формате ХХХХ, а если с малого регистра, то в формате XX. Пользователь сам может выбрать из чего ему складывать дату или время, а может, все вместе, а так же то, как будут разделяться элементы.

Пример:


2 Команда history

Задача: вывести весь список введенных ранее команд. 
 
Код:
~$ history

     Пример:

  
     Комментарий:
Количество выводимых команд контролируется параметром HISTSIZE. По умолчанию он установлен на 1000, но можно изменить введя

~$ export HISTSIZE=10 


2.1 Ключ n

Задача: вывести определенное количество введенных ранее команд

Код:
~$ history 5 

вместо цифры 5 может быть записано любое число, зависимое от того, сколько команд потребуется вывести на экран.

Пример:

2.2 Ключ –с

Задача: отчистить историю.

Код: 
~$ history -c

Пример:

2.3 Ключ –d n

Задача: удалить определенную строку в истории
На скриншоте ниже мы удаляем строку «blabla» с номером 80, поэтому вводим следующий код.

Код:
~$ history –d 80

Пример:


Результат:


2.4  Ключ –r filename
  
  Задача: в историю вписать содержимое выбранного файла

  Код:
~$ history –r myfile  

Содержимое файла «myfile.txt» было рассмотрено в примере работы команды date с таким же ключом. Но мы напомним о нем с помощью команды cat.

Пример:


3 Команда which 
 
  Задача:   сообщить пользователю, была ли найдена указанная программа в каталогах, перечисленных в переменной среды PATH.
  Пояснение: Когда операционная система запускает какую-нибудь программу, она стартует новый процесс и каким-то образом передаёт ему информацию о настройках среды, или окружения. Эта информация состоит из набора переменных, содержащих некоторые значения. Процесс может получить эти значения, обратившись к нужной переменной по имени.  
  При помощи переменных окружения можно передавать информацию не только запускаемым процессам, но и самой операционной системе. Она тоже читает и использует значения переменных окружения, поэтому можно управлять некоторыми аспектами поведения операционной системы, изменяя переменные окружения.
Переменная PATH содержит список директорий, в которых операционная система пытается искать исполняемые файлы, если пользователь при запуске не указал явно путь к нужному исполняемому файлу.
  
  Код:
~$ which filename

  Пример:



4 Команда tmux

tmux — это менеджер терминалов, к которому удобно подключаться и отключаться, не теряя при этом процессы и историю.

Задача: перейти в менеджер терминалов

Код: 
~$ tmux
  
  Пример:


Открытые страницы в tmux отображаются снизу.

Важная особенность tmux заключается в том, что если запустить его на сервере, то он будет помнить историю запусков процессов и они продолжат выполнение даже если соединение с сервером будет потеряно. Кроме того, при новом соединении с сервером можно будет подключиться к уже запущенному tmux и продолжить работу с момента потери связи.

Настройки для tmux хранятся в файле «.tmux.conf» в домашней директории пользователя.

Команды которые можно совершать с мультиплексором:
    • Ctrl+b ” – разделить окно по горизонтали
    • Ctrl+b % – разделить окно по вертикали
    • Ctrl+b стрелка – переключиться на панель
    • зажать Ctrl+b и стрелки – изменить размер панели
    • Ctrl+b c – открыть новое окно
    • Ctrl+b n – переключиться на следующее окно
    • Ctrl+b p -переключиться на предыдущее окно
    • Ctrl+b N – переключиться на окно номер N
    • Ctrl+b t – цифровые часы
    • Ctrl+b ? – список команд
    • Ctrl+b : - командная строка
    • Ctrl+b q – отобразить номера панелей
    • Ctrl+b x – убить панель

Задача: Посмотреть все открытые вкладки и создать дополнительную, в которой открыть часы

Пример:


Важно заметить что * показывает открытую в данный момент вкладку

Задача: Посмотреть список запущенных tmux’ов.

Код: 
~$ tmux list-session
  
  Пример:

  
5 Команда nohup

nohup — утилита, которая позволяет запустить команду, защищенную от зависания с выходом на non-tty (игнорирует потерю сигналов связи SIGHUP).

Задача: скачать очень объемный файл в фоновом режиме

Код: 
~$ nohup wget http://example.com/some-large-package.iso &
  
  Пример:


Задача: убедиться в том, что процесс все еще выполняется

Код: 
~$ ps aux | grep wget
  
  Пример:


Можно использовать nohup, утилита по умолчанию пишет вывод в файл, процесс не прервется при отсоединении от терминала (в случае если пользователь выполнит log out и выйдет из системы)

Задача: узнать версию программы

Код: 
~$ nohup --version
  
  Пример:


Контроля над процессом, тем не менее, нет. Можно только дождаться его завершения или вручную прекратить его выполнение.

Задача: остановить процесс принудительно. 

Код: 
~$ killall wget
  
  Пример:


6 Команда perf
Perf анализирует работу системы и приложений, формируя детальные отчеты о нагрузке,   обусловленной различными вызовами, процессами, операциями ввода-вывода, сетевыми событиями и т.п.
6.1 Ключ stat

Задача: собрать стандартную статистику системного события, включая сведения об инструкциях и временных циклах

Код: 
~# perf stat command
  
  Пример:

  
  Комментарий: у perf stat есть несколько своих подключей, но мы их не использовали. В нашем примере рассматривалась статистика команды date.

6.2 Ключ top
 
    Задача: осуществить сбор статистики в реальном времени аналогично top.

    Код:
~# perf top

    Пример:

6.3 Ключ list

  Задача: вывести список доступных событий.

    Код:
~$ perf list

    Пример:


6.4 Ключ record

    Задача: собрать данные и сохранить их в файл, анализ которого может быть выполнен с помощью perf report

    Код:
~# perf record –F 99 command

    Пример:


  Комментарий: у perf record есть несколько ключей и параметров, в которые мы не будем углубляться. В нашем пример «–F» обозначает, функции центрального процессора, а число 99 – количество Герц.

6.5 Ключ report

  Задача: сформировать отчет из полученных из файла сведений о производительности

  Код:
~# perf report
  
  Пример:


Комментарий:
Данные, которые эта команда берет для отчета, находятся в файле «perf.data», поэтому, если в него ничего не помещено командой «perf record», то машина выведет ошибку, сообщающую, что «perf.data» пуст.

7 Команда chroot

Chroot  операция изменения корневого каталога диска для запущенного процесса и его дочерних процессов. Программа, запущенная в таком окружении не может получить доступ к файлам вне нового корневого каталога. Это измененное окружение называется chroot jail.

Chroot-окружение Linux не стоит использовать в качестве средства защиты. В целом, окружения chroot могут быть использованы как дополнительный уровень безопасности, но они не достаточно изолированы, чтобы выступать в качестве полноценной защиты системы.

Изменение корневого каталога обычно производится для выполнения действий по обслуживанию систем, загрузка и/или вход в которых стали невозможны. В таком режиме, например, могут быть выполнены:
    • Переустановка загрузчика.
    • Пересборка образа initramfs.
    • Обновление или откат пакетов.
    • Сброс пароля root.


Задача: изменить корневой раздел

Код: 
~# chroot /proc/1/cwd/
  
  Пример:














ЗАКЛЮЧЕНИЕ
Нашу реальность все больше и больше заполняют информационные технологии, весь мир стремится к постиндустриализации, к торговле знаниями и услугами, поэтому ни для кого не секрет, что одна из наиболее востребованных профессий – это IT-специалист. Конкуренция между новыми кадрами становится напряженней. В погоне за такими идолами как Билл Гейтс или Марк Цукерберг, в стремлении занять удобное место на этой привлекательной нише, желающие должны постоянно обучаться беспрерывно развивающимся технологиям, список которых составит целую бесконечность элементов. 
  Мы, студенты 2 курса, постигая азы Linux, изучая операционную систему Debian 9, в данной курсовой работе собрали и описали, а так же доступно изложили действие заявленных команд. 
  В графически установленном Debian 9 был открыт терминал, который обеспечивает связь с системой через командную оболочку bash. В ней, используя наиболее знакомые и популярные команды и примитивные вспомогательные файлы, была продемонстрирована работа команд: date, history, which, tmux, nohup, chroot и perf.
Для команды perf, осуществляющей профилирование и отображающей список измеримых процессов, потребовался установочный пакет. 
Однако мы столкнулись с такой проблемой: система выводила после загрузок строку

E: unable to locate perf

Решение проблемы заключалось в том, что не все пакеты, необходимые для работы команд, одноименны им, и нужный нам пакет назывался «linux-perf» То есть установочный пакет для этой команды можно загрузить, введя в командную строку следующее:

~# apt-get install linux-perf

Данная курсовая работа – лишь малая часть того, что нам еще предстоит узнать об увлекательном мире Unix-подобных систем, работающих на ядре Linux. Дистрибутивов Linux немало, но мы прикоснулись к одному из них, и это была интересная и познавательная деятельность. Эти основы помогут в будущем понимать и легче управлять новыми знаниями о работе в таких операционных системах.